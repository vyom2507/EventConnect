(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{1104:function(e,t,s){Promise.resolve().then(s.bind(s,1637))},1637:function(e,t,s){"use strict";s.d(t,{TopNavbar:function(){return c}});var r=s(7437),l=s(2265),n=s(7648),a=s(3145),i=s(9376),o=s(4766),d=s(875);function c(){var e,t,s;let c=(0,i.usePathname)(),[u,f]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1),x=async()=>{try{let e=await fetch("/api/auth/me",{cache:"no-store"});if(!e.ok){f(null);return}let t=await e.json();f(t.student)}catch(e){console.error("Error loading session:",e),f(null)}};(0,l.useEffect)(()=>{x()},[]),(0,l.useEffect)(()=>{h(!1),x()},[c]);let b=null!==(s=null==u?void 0:null===(e=u.fullName)||void 0===e?void 0:e.split(" ")[0])&&void 0!==s?s:(null==u?void 0:u.email)?u.email.split("@")[0]:"Student";return(0,r.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center justify-between border-b border-red-900/40 bg-gradient-to-r from-red-700 via-red-600 to-red-800 px-3 text-sm text-white shadow-lg shadow-red-900/40 md:h-16 md:px-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-black/40 text-xs font-bold shadow-md shadow-black/40 md:h-9 md:w-9",children:(0,r.jsx)(n.default,{href:"/",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"IIT"})}),(0,r.jsxs)("div",{className:"hidden flex-col md:flex",children:[(0,r.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.22em] text-red-100/90",children:"iStudentsHub"}),(0,r.jsx)("span",{className:"text-[11px] text-red-50/90",children:"Illinois Institute of Technology \xb7 International Student Dashboard"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,r.jsxs)("button",{type:"button",className:"relative inline-flex h-8 w-8 items-center justify-center rounded-full bg-red-900/40 text-red-100 hover:bg-red-900/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-red-700 focus-visible:ring-white/80",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"absolute -right-0.5 -top-0.5 inline-flex h-3 w-3 items-center justify-center rounded-full bg-emerald-400 text-[8px] font-semibold text-emerald-950",children:"â€¢"})]}),u?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>h(e=>!e),className:"flex items-center gap-2 rounded-full bg-black/30 px-2 py-1.5 text-[11px] font-medium shadow-md shadow-black/40 hover:bg-black/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-red-700 focus-visible:ring-white/80 md:px-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"relative h-7 w-7 overflow-hidden rounded-full bg-red-900/60 ring-1 ring-red-300/60 md:h-8 md:w-8",children:u.avatarUrl?(0,r.jsx)(a.default,{src:u.avatarUrl,alt:u.fullName,fill:!0,className:"object-cover"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center text-[11px] font-semibold",children:null===(t=b[0])||void 0===t?void 0:t.toUpperCase()})}),(0,r.jsxs)("div",{className:"hidden text-left md:block",children:[(0,r.jsxs)("p",{className:"text-[11px] leading-tight",children:["Hi,"," ",(0,r.jsx)("span",{className:"font-semibold text-white",children:b})," ","\uD83D\uDC4B"]}),u.program&&(0,r.jsx)("p",{className:"text-[10px] text-red-100/80",children:u.program})]})]}),(0,r.jsx)(d.Z,{className:"h-3 w-3 transition-transform ".concat(m?"rotate-180":"")})]}),m&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-52 rounded-xl bg-slate-950/95 p-1 text-[11px] text-slate-100 shadow-xl shadow-black/70 ring-1 ring-slate-700/80",children:[(0,r.jsxs)("div",{className:"border-b border-slate-800 px-3 py-2",children:[(0,r.jsx)("p",{className:"text-[11px] font-semibold",children:u.fullName||b}),(0,r.jsx)("p",{className:"truncate text-[10px] text-slate-400",children:u.email})]}),(0,r.jsx)(n.default,{href:"/profile",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Profile"}),(0,r.jsx)(n.default,{href:"/dashboard",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Dashboard"}),(0,r.jsx)(n.default,{href:"/api/auth/logout",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Logout"}),(0,r.jsx)("div",{className:"my-1 border-t border-slate-800"})]})]}):(0,r.jsx)(n.default,{href:"/login",className:"rounded-full bg-black/35 px-3 py-1.5 text-[11px] font-semibold text-red-50 shadow-sm shadow-black/40 hover:bg-black/55",children:"Login"})]})]})}},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var r=s(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...f}=e;return(0,r.createElement)("svg",{ref:t,...a,width:l,height:l,stroke:s,strokeWidth:o?24*Number(i)/Number(l):i,className:n("lucide",d),...f},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let s=(0,r.forwardRef)((s,a)=>{let{className:o,...d}=s;return(0,r.createElement)(i,{ref:a,iconNode:t,className:n("lucide-".concat(l(e)),o),...d})});return s.displayName="".concat(e),s}},4766:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},875:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3145:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var r=s(8461),l=s.n(r)},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var r=s(2972),l=s.n(r)},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return i}});let r=s(7043),l=s(5346),n=s(5878),a=r._(s(5084));function i(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=n.Image}},function(e){e.O(0,[972,878,971,117,744],function(){return e(e.s=1104)}),_N_E=e.O()}]);