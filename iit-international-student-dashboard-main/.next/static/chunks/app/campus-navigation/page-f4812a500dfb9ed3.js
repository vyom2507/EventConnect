(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{5622:function(e,t,s){Promise.resolve().then(s.bind(s,969))},969:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(7437),l=s(3145),r=s(5958),n=s(1637),i=s(2265),o=s(166),d=s(9178);s(5046);let c=s(257).env.NEXT_PUBLIC_OPENROUTESERVICE_API_KEY||"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjE1NmE0ZTA0NzhjOTQ2NGRhNzZmNTE1OWIxYzJjYmI4IiwiaCI6Im11cm11cjY0In0=",m=(0,o.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),x=(0,o.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),u=(0,o.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.Marker),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),h=(0,o.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.Polyline),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),p=(0,o.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),b=[41.8349,-87.627],f=[{id:"dorms",label:"Dorms / IIT Tower (Default)",coords:[41.8359,-87.6266]},{id:"mtcc",label:"MTCC (Student Center)",coords:[41.8355,-87.6271]},{id:"cta",label:"CTA Green/Red Line (35th-Bronzeville-IIT)",coords:[41.8318,-87.6264]}],g=[{id:"mtcc",label:"MTCC (Student Center)",coords:[41.8355,-87.6271],description:"Student center, food, lounges, and many events."},{id:"hermann",label:"Hermann Hall",coords:[41.8359,-87.6249],description:"Many orientation events, conferences, and large gatherings happen here."},{id:"galvin",label:"Galvin Library",coords:[41.8353,-87.6288],description:"Main library for quiet study, group rooms, and research support."},{id:"keating",label:"Keating Sports Center",coords:[41.8345,-87.624],description:"Gym, fitness, and sports activities."},{id:"stuart",label:"Stuart Building",coords:[41.8348,-87.6279],description:"Classrooms and labs for engineering & tech courses."},{id:"cta",label:"CTA 35th-Bronzeville-IIT Station",coords:[41.8318,-87.6264],description:"Green/Red line stop right by campus."}];function v(){let[e,t]=(0,i.useState)("dorms"),[s,l]=(0,i.useState)("mtcc"),[r,n]=(0,i.useState)([]),[o,v]=(0,i.useState)(!1),[j,N]=(0,i.useState)(null),[w,y]=(0,i.useState)(null),k=async()=>{N(null),n([]),y(null);let t=f.find(t=>t.id===e),a=g.find(e=>e.id===s);if(!t||!a){N("Please select both a start and a destination.");return}if(!c){N("OpenRouteService API key is missing.");return}v(!0);try{var l,r,i;let e=t.coords[1],s=t.coords[0],o=a.coords[1],d=a.coords[0],m="https://api.openrouteservice.org/v2/directions/foot-walking?api_key=".concat(encodeURIComponent(c),"&start=").concat(e,",").concat(s,"&end=").concat(o,",").concat(d),x=await fetch(m),u=await x.json();if(u.error){console.error("ORS error:",u.error),N(u.error.message||"Routing service returned an error. Try different points.");return}let h=null==u?void 0:null===(l=u.features)||void 0===l?void 0:l[0],p=null==h?void 0:null===(r=h.geometry)||void 0===r?void 0:r.coordinates;if(!p||!Array.isArray(p)){console.error("Unexpected ORS data:",u),N("Route data was not in expected format.");return}let b=null==h?void 0:null===(i=h.properties)||void 0===i?void 0:i.summary;b&&"number"==typeof b.distance&&"number"==typeof b.duration&&y({distance:b.distance,duration:b.duration});let f=p.map(e=>[e[1],e[0]]);n(f)}catch(e){console.error("Route fetch error:",e),N("Something went wrong while contacting the routing service.")}finally{v(!1)}},I=f.find(t=>t.id===e),C=g.find(e=>e.id===s),S=(()=>{if(!w)return null;let e=w.distance/1e3,t=Math.round(w.duration/60);return{distanceLabel:"".concat(e.toFixed(2)," km"),timeLabel:"".concat(t," min")}})();return(0,a.jsxs)(d.Z,{className:"relative z-0 overflow-hidden border border-gray-200 bg-gray-100 p-0 text-slate-900",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 border-b border-gray-200 bg-gray-100 px-3 py-3 text-xs md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:"IIT Campus Navigation"}),(0,a.jsx)("p",{className:"text-[11px] text-slate-600",children:"Choose where you're starting from and where you want to go on campus. We'll draw a walking route and estimate walking time."}),S&&I&&C&&(0,a.jsxs)("p",{className:"mt-1 text-[11px] text-emerald-700",children:["Approx."," ",(0,a.jsx)("span",{className:"font-semibold",children:S.distanceLabel})," ","\xb7"," ",(0,a.jsxs)("span",{className:"font-semibold",children:[S.timeLabel," walking"]})," ","from ",(0,a.jsx)("span",{className:"font-semibold",children:I.label})," ","to ",(0,a.jsx)("span",{className:"font-semibold",children:C.label}),"."]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:justify-end",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{className:"text-[10px] uppercase tracking-[0.16em] text-slate-500",children:"Start from"}),(0,a.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"h-8 rounded-md border border-gray-300 bg-white px-2 text-[11px] text-slate-900 focus:border-red-500 focus:outline-none",children:f.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{className:"text-[10px] uppercase tracking-[0.16em] text-slate-500",children:"Take me to"}),(0,a.jsx)("select",{value:s,onChange:e=>l(e.target.value),className:"h-8 rounded-md border border-gray-300 bg-white px-2 text-[11px] text-slate-900 focus:border-red-500 focus:outline-none",children:g.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsx)("button",{type:"button",onClick:k,disabled:o,className:"inline-flex h-8 items-center justify-center rounded-md bg-red-600 px-3 text-[11px] font-semibold text-white shadow-sm hover:bg-red-500 disabled:cursor-not-allowed disabled:bg-red-300",children:o?"Finding route…":"Show walking route"})]})]}),j&&(0,a.jsx)("div",{className:"border-b border-red-200 bg-red-50 px-3 py-2 text-[11px] text-red-700",children:j}),(0,a.jsx)("div",{className:"relative z-0 h-[420px] w-full bg-gray-200",children:(0,a.jsxs)(m,{center:b,zoom:16,scrollWheelZoom:!0,className:"h-full w-full",children:[(0,a.jsx)(x,{attribution:'\xa9 <a href="https://osm.org">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),I&&(0,a.jsx)(u,{position:I.coords,children:(0,a.jsx)(p,{children:(0,a.jsx)("div",{className:"text-[11px]",children:(0,a.jsxs)("strong",{children:["Start: ",I.label]})})})}),C&&(0,a.jsx)(u,{position:C.coords,children:(0,a.jsx)(p,{children:(0,a.jsxs)("div",{className:"text-[11px]",children:[(0,a.jsxs)("strong",{children:["Destination: ",C.label]}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-[10px] text-slate-700",children:C.description})]})})}),g.map(e=>(0,a.jsx)(u,{position:e.coords,children:(0,a.jsx)(p,{children:(0,a.jsxs)("div",{className:"text-[11px]",children:[(0,a.jsx)("strong",{children:e.label}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-[10px] text-slate-700",children:e.description})]})})},e.id)),r.length>0&&(0,a.jsx)(h,{positions:r,pathOptions:{color:"red",weight:4,opacity:.8}})]})})]})}let j=[{name:"MTCC – McCormick Tribune Campus Center",role:"Student Center \xb7 Food \xb7 Study Spaces",image:"/mtcc.jpg",note:"Common hub for student life, food, and informal meetups."},{name:"Hermann Hall",role:"Events \xb7 Orientation \xb7 Conferences",image:"/hermann-hall.jpg",note:"Many large orientation sessions and international student events happen here."},{name:"Galvin Library",role:"Library \xb7 Silent Study \xb7 Research",image:"/galvin-library.jpg",note:"Main library for quiet study, group rooms, and research support."},{name:"Stuart Building",role:"Classrooms \xb7 Labs",image:"/stuart-building.jpg",note:"Houses classrooms and labs for engineering, computing and tech courses."},{name:"Keating Sports Center",role:"Gym \xb7 Fitness \xb7 Sports",image:"/keating.jpg",note:"Go here for workouts, intramurals, and staying active during the semester."},{name:"CTA 35th–Bronzeville–IIT Station",role:"Transit \xb7 Green/Red Line",image:"/cta-station.jpg",note:"Your main CTA rail connection between campus and downtown Chicago."}];function N(){return(0,a.jsxs)("div",{className:"flex min-h-screen bg-slate-950 text-slate-100",children:[(0,a.jsx)(r.Sidebar,{}),(0,a.jsxs)("div",{className:"flex min-h-screen flex-1 flex-col",children:[(0,a.jsx)(n.TopNavbar,{}),(0,a.jsx)("main",{className:"flex-1 bg-gray-100 p-4 md:p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(v,{}),(0,a.jsx)("div",{className:"border border-gray-200 bg-gray-100 p-4 text-slate-300 md:p-5",children:(0,a.jsxs)("div",{className:"grid items-stretch gap-4 md:grid-cols-2 md:gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,a.jsx)("h1",{className:"mb-2 text-sm font-semibold text-slate-900",children:"About IIT Campus Navigation"}),(0,a.jsx)("p",{className:"mb-2 text-xs text-slate-800",children:"This campus navigation module uses OpenStreetMap tiles and walking routes powered by openrouteservice. It helps you estimate walking time and distance between key IIT locations so you can plan your day across classes, housing, work, and events."}),(0,a.jsx)("p",{className:"text-xs text-slate-800",children:"Over time, this can evolve to include live shuttle tracking, accessible paths, indoor navigation for major buildings, and real-time overlays powered by IIT systems or istudentshub.com."})]}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h2",{className:"mb-2 text-xs font-semibold text-slate-900",children:"Campus landmarks & buildings"}),(0,a.jsx)("p",{className:"mb-3 text-[11px] text-slate-800",children:"Scroll through key IIT buildings where you'll spend time for classes, study, social life, and commuting."}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"flex w-full gap-4 overflow-x-auto py-1 pr-2 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-slate-100",children:j.map(e=>(0,a.jsxs)("div",{className:"w-56 flex-shrink-0 overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:[(0,a.jsxs)("div",{className:"relative h-32 w-full overflow-hidden",children:[(0,a.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 hover:scale-105"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-black/10 to-transparent"})]}),(0,a.jsxs)("div",{className:"space-y-1 p-3",children:[(0,a.jsx)("p",{className:"text-[12px] font-semibold text-slate-900",children:e.name}),(0,a.jsx)("p",{className:"text-[11px] font-medium text-red-600",children:e.role}),(0,a.jsx)("p",{className:"text-[11px] text-slate-600",children:e.note})]})]},e.name))})})]})]})})]})})]})]})}},5958:function(e,t,s){"use strict";s.d(t,{Sidebar:function(){return b}});var a=s(7437),l=s(7648),r=s(9376),n=s(1994),i=s(5466),o=s(6381),d=s(3774),c=s(6096),m=s(5805),x=s(8736),u=s(2449),h=s(7815);let p=[{label:"Dashboard",href:"/dashboard",icon:i.Z},{label:"Pre-Arrival",href:"/pre-arrival",icon:o.Z},{label:"Campus Navigation",href:"/campus-navigation",icon:d.Z},{label:"Academic Integration",href:"/academic-integration",icon:c.Z},{label:"Social Networking",href:"/social-networking",icon:m.Z},{label:"Resource Directory",href:"/resource-directory",icon:x.Z},{label:"Marketplace",href:"/marketplace",icon:u.Z},{label:"Profile",href:"/profile",icon:h.Z}];function b(){let e=(0,r.usePathname)();return(0,a.jsxs)("aside",{className:" hidden md:flex sticky top-0 h-screen w-64 flex-shrink-0 flex-col bg-black/95 shadow-2xl ",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center gap-2 px-5",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-gradient-to-br from-red-600 via-red-500 to-red-400 text-white shadow-lg",children:(0,a.jsx)("span",{className:"text-lg font-bold",children:"IIT"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold tracking-tight text-slate-50",children:"IIT Intl Student Hub"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Illinois Institute of Technology \xb7 Chicago"})]})]}),(0,a.jsx)("nav",{className:"mt-4 flex-1 space-y-1 overflow-y-auto px-3 pb-4",children:p.map(t=>{let s=t.icon,r=e===t.href||"/dashboard"!==t.href&&e.startsWith(t.href);return(0,a.jsxs)(l.default,{href:t.href,className:(0,n.Z)("group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium transition-all","text-slate-200 hover:bg-red-600 hover:text-white","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",r&&"bg-red-600 text-white shadow-lg shadow-red-900/40"),children:[(0,a.jsx)(s,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t.label})]},t.href)})}),(0,a.jsx)("div",{className:"border-t border-slate-800 px-4 py-3",children:(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Tip: Bookmark this dashboard to access your IIT support toolkit in one click."})})]})}},1637:function(e,t,s){"use strict";s.d(t,{TopNavbar:function(){return c}});var a=s(7437),l=s(2265),r=s(7648),n=s(3145),i=s(9376),o=s(4766),d=s(875);function c(){var e,t,s;let c=(0,i.usePathname)(),[m,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),p=async()=>{try{let e=await fetch("/api/auth/me",{cache:"no-store"});if(!e.ok){x(null);return}let t=await e.json();x(t.student)}catch(e){console.error("Error loading session:",e),x(null)}};(0,l.useEffect)(()=>{p()},[]),(0,l.useEffect)(()=>{h(!1),p()},[c]);let b=null!==(s=null==m?void 0:null===(e=m.fullName)||void 0===e?void 0:e.split(" ")[0])&&void 0!==s?s:(null==m?void 0:m.email)?m.email.split("@")[0]:"Student";return(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center justify-between border-b border-red-900/40 bg-gradient-to-r from-red-700 via-red-600 to-red-800 px-3 text-sm text-white shadow-lg shadow-red-900/40 md:h-16 md:px-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-black/40 text-xs font-bold shadow-md shadow-black/40 md:h-9 md:w-9",children:(0,a.jsx)(r.default,{href:"/",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"IIT"})}),(0,a.jsxs)("div",{className:"hidden flex-col md:flex",children:[(0,a.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.22em] text-red-100/90",children:"iStudentsHub"}),(0,a.jsx)("span",{className:"text-[11px] text-red-50/90",children:"Illinois Institute of Technology \xb7 International Student Dashboard"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,a.jsxs)("button",{type:"button",className:"relative inline-flex h-8 w-8 items-center justify-center rounded-full bg-red-900/40 text-red-100 hover:bg-red-900/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-red-700 focus-visible:ring-white/80",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"absolute -right-0.5 -top-0.5 inline-flex h-3 w-3 items-center justify-center rounded-full bg-emerald-400 text-[8px] font-semibold text-emerald-950",children:"•"})]}),m?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>h(e=>!e),className:"flex items-center gap-2 rounded-full bg-black/30 px-2 py-1.5 text-[11px] font-medium shadow-md shadow-black/40 hover:bg-black/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-red-700 focus-visible:ring-white/80 md:px-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"relative h-7 w-7 overflow-hidden rounded-full bg-red-900/60 ring-1 ring-red-300/60 md:h-8 md:w-8",children:m.avatarUrl?(0,a.jsx)(n.default,{src:m.avatarUrl,alt:m.fullName,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center text-[11px] font-semibold",children:null===(t=b[0])||void 0===t?void 0:t.toUpperCase()})}),(0,a.jsxs)("div",{className:"hidden text-left md:block",children:[(0,a.jsxs)("p",{className:"text-[11px] leading-tight",children:["Hi,"," ",(0,a.jsx)("span",{className:"font-semibold text-white",children:b})," ","\uD83D\uDC4B"]}),m.program&&(0,a.jsx)("p",{className:"text-[10px] text-red-100/80",children:m.program})]})]}),(0,a.jsx)(d.Z,{className:"h-3 w-3 transition-transform ".concat(u?"rotate-180":"")})]}),u&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-52 rounded-xl bg-slate-950/95 p-1 text-[11px] text-slate-100 shadow-xl shadow-black/70 ring-1 ring-slate-700/80",children:[(0,a.jsxs)("div",{className:"border-b border-slate-800 px-3 py-2",children:[(0,a.jsx)("p",{className:"text-[11px] font-semibold",children:m.fullName||b}),(0,a.jsx)("p",{className:"truncate text-[10px] text-slate-400",children:m.email})]}),(0,a.jsx)(r.default,{href:"/profile",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Profile"}),(0,a.jsx)(r.default,{href:"/dashboard",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Dashboard"}),(0,a.jsx)(r.default,{href:"/api/auth/logout",className:"block rounded-lg px-3 py-2 hover:bg-slate-800/80",children:"Logout"}),(0,a.jsx)("div",{className:"my-1 border-t border-slate-800"})]})]}):(0,a.jsx)(r.default,{href:"/login",className:"rounded-full bg-black/35 px-3 py-1.5 text-[11px] font-semibold text-red-50 shadow-sm shadow-black/40 hover:bg-black/55",children:"Login"})]})]})}},9178:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437),l=s(1994);function r(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,l.W)("rounded-2xl border border-slate-500/90 bg-slate-200/80 p-4 shadow-lg shadow-black/40",s),children:t})}}},function(e){e.O(0,[641,972,878,353,971,117,744],function(){return e(e.s=5622)}),_N_E=e.O()}]);