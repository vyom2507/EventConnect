(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6536:function(e,t,r){Promise.resolve().then(r.bind(r,7313)),Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,9076)),Promise.resolve().then(r.t.bind(r,911,23))},7313:function(e,t,r){"use strict";r.d(t,{IStudentsChatWidget:function(){return l}});var a=r(7437),n=r(2265);let s=(0,r(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var i=r(2718),o=r(1994);function l(){let[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)([{id:"welcome",role:"assistant",content:"Hi, I’m iStudents Assistant \uD83D\uDC4B\n\nI can help you with pre-arrival prep, housing, campus navigation, academics, and settling into life at IIT in Chicago. What are you thinking about right now?"}]),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),x=(0,n.useRef)(null);(0,n.useEffect)(()=>{e&&x.current&&x.current.scrollIntoView({behavior:"smooth"})},[e,r,u]);let p=async e=>{e.preventDefault(),f(null);let t=c.trim();if(!t||u)return;let a={id:"user-".concat(Date.now()),role:"user",content:t};l(e=>[...e,a]),d(""),h(!0);try{let e=[{role:"system",content:"User is an international student at IIT."},...r.map(e=>({role:e.role,content:e.content})),{role:"user",content:t}],a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||"Chat request failed.")}let n=await a.json(),s="string"==typeof n.reply?n.reply:"Sorry, I couldn’t generate a response right now.",i={id:"assistant-".concat(Date.now()),role:"assistant",content:s};l(e=>[...e,i])}catch(e){console.error(e),f(e.message||"Something went wrong.")}finally{h(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>t(e=>!e),className:"fixed bottom-4 right-4 z-40 flex h-12 w-12 items-center justify-center rounded-full bg-red-600 text-white shadow-lg shadow-red-900/60 ring-2 ring-red-300 hover:bg-red-500 md:bottom-6 md:right-6",children:e?(0,a.jsx)(s,{className:"h-5 w-5"}):(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:(0,o.Z)("fixed bottom-20 right-4 z-40 w-[90vw] max-w-sm translate-y-4 opacity-0 transition-all duration-200 md:bottom-24 md:right-6",e&&"translate-y-0 opacity-100"),children:(0,a.jsxs)("div",{className:"flex h-80 flex-col overflow-hidden rounded-2xl bg-slate-950/95 ring-1 ring-slate-800 shadow-2xl shadow-black/80 backdrop-blur",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-red-700 to-red-600 px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-red-50",children:"iStudents Assistant"}),(0,a.jsx)("span",{className:"text-[10px] text-red-100/80",children:"International onboarding \xb7 IIT Chicago"})]}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"rounded-full bg-white/15 p-1 text-red-50 hover:bg-white/25",children:(0,a.jsx)(s,{className:"h-3 w-3"})})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2 overflow-y-auto p-3 text-[11px] text-slate-50",children:[r.map(e=>(0,a.jsx)("div",{className:(0,o.Z)("flex","user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:(0,o.Z)("max-w-[80%] whitespace-pre-wrap rounded-xl px-3 py-2","user"===e.role?"bg-red-600 text-white":"bg-slate-900 text-slate-100"),children:e.content})},e.id)),u&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"rounded-xl bg-slate-900 px-3 py-2 text-[11px] text-slate-300",children:"Typing…"})}),m&&(0,a.jsxs)("div",{className:"text-[10px] text-red-300",children:["Error: ",m]}),(0,a.jsx)("div",{ref:x})]}),(0,a.jsx)("form",{onSubmit:p,className:"border-t border-slate-800 bg-slate-950/90 px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsx)("textarea",{rows:1,value:c,onChange:e=>d(e.target.value),placeholder:"Ask about visas, housing, academics, or campus life…",className:"flex-1 resize-none rounded-lg border border-slate-700 bg-slate-950 px-2 py-1.5 text-[11px] text-slate-50 outline-none focus:border-red-500"}),(0,a.jsx)("button",{type:"submit",disabled:u||!c.trim(),className:"rounded-lg bg-red-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm shadow-red-900/40 hover:bg-red-500 disabled:cursor-not-allowed disabled:bg-red-900",children:"Send"})]})})]})})]})}},9076:function(e,t,r){"use strict";r.d(t,{I18nProvider:function(){return o}});var a=r(7437),n=r(2265);let s={en:{"nav.dashboard":"Dashboard","nav.preArrival":"Pre-Arrival","nav.campusNavigation":"Campus Navigation","nav.academicIntegration":"Academic Integration","nav.socialNetworking":"Social Networking","nav.resourceDirectory":"Resource Directory","nav.marketplace":"Marketplace"},es:{"nav.dashboard":"Panel","nav.preArrival":"Antes de llegar","nav.campusNavigation":"Navegaci\xf3n del campus","nav.academicIntegration":"Integraci\xf3n acad\xe9mica","nav.socialNetworking":"Red social","nav.resourceDirectory":"Directorio de recursos","nav.marketplace":"Mercado"}},i=(0,n.createContext)(null);function o(e){let{children:t}=e,[r,o]=(0,n.useState)("en");return(0,a.jsx)(i.Provider,{value:{lang:r,setLang:o,t:e=>{var t,a;return null!==(a=null!==(t=s[r][e])&&void 0!==t?t:s.en[e])&&void 0!==a?a:e}},children:t})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:l?24*Number(o)/Number(n):o,className:s("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...c}=r;return(0,a.createElement)(o,{ref:i,iconNode:t,className:s("lucide-".concat(n(e)),l),...c})});return r.displayName="".concat(e),r}},2718:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},7960:function(){},911:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},1994:function(e,t,r){"use strict";function a(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:function(){return a}}),t.Z=a}},function(e){e.O(0,[944,971,117,744],function(){return e(e.s=6536)}),_N_E=e.O()}]);